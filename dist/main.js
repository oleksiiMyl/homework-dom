!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r=e=>localStorage.getItem(e),o=(e,t)=>e.some(e=>e.name===t);function c(e,t,n){this.name=e,this.score=t,this.winsNumber=n}c.prototype.getScore=function(){return this.score},c.prototype.setScore=function(e){this.score=e},c.prototype.resetScore=function(){this.score=0};let u=1;const l=e=>{const t=prompt(e,"");return null===t||""===t?`Player${u++}`:t},i=(e,t)=>{if(o(t,e)){const n=((e,t)=>e.find(e=>e.name===t))(t,e);return Object.setPrototypeOf(n,c.prototype),n}return new c(e,0,0)},s=e=>{e.forEach(function(e){e.style.display="none"})},a=()=>Math.floor(6*Math.random())+1;let d=0,y=0,m=100,f=[];const p=document.querySelectorAll(".dice"),S=document.querySelector(".field-wrap"),b=document.querySelector(".score-field"),g=document.querySelector(".error-text");null!==r("winners")&&(f=JSON.parse(r("winners")));const v=[i(l("Введите имя первого игрока"),f),i(l("Введите имя второго игрока"),f)],q=()=>{S.style.display="block",document.querySelector("#name-0").textContent=v[0].name,document.querySelector("#name-1").textContent=v[1].name,document.querySelector("#current-0").textContent="0",document.querySelector("#current-1").textContent="0",document.querySelector("#score-0").textContent="0",document.querySelector("#score-1").textContent="0",s(p),v[0].resetScore(),v[1].resetScore(),y=0,m=100};q(),document.querySelector(".btn-roll").addEventListener("click",function(){let e=a(),t=a();p[0].src=`images/dice-${e}.png`,p[1].src=`images/dice-${t}.png`,p.forEach(function(e){e.style.display="block"});const n=v[d].name;e===t||2===e||2===t?x():(y+=e+t,document.getElementById("current-"+d).textContent=y,v[d].getScore()+y>=m&&(alert(`Player ${n} won!!!`),v[d].winsNumber++,o(f,n)||-1!==n.indexOf("Player")||f.push(v[d]),((e,t)=>localStorage.setItem(e,t))("winners",JSON.stringify(f))))});const x=()=>{y=0,document.getElementById("current-"+d).textContent=0,document.querySelector(`.player-${d}-panel`).classList.toggle("active"),d=+!d,s(p),document.querySelector(`.player-${d}-panel`).classList.toggle("active")};document.querySelector(".btn-hold").addEventListener("click",function(){v[d].setScore(v[d].getScore()+y),document.querySelector(`#score-${d}`).textContent=v[d].getScore(),x()}),document.querySelector(".btn-new").addEventListener("click",function(){q()}),document.querySelector(".btn-apply").addEventListener("click",function(){let e=b.value;isNaN(e)?(g.style.display="block",b.classList.add("invalid")):(g.style.display="none",b.classList.remove("invalid"),Number(e)>0&&(m=Number(e)),b.value="",S.style.display="none")}),document.querySelector(".btn-show").addEventListener("click",function(){alert((e=>{let t="";return e.sort((e,t)=>t.winsNumber-e.winsNumber),e.forEach(function(e){t+=`${e.name} wins ${e.winsNumber} times\n`}),t})(f))})}]);